# í”„ë¡œì íŠ¸ ìš”ì•½

## ğŸ“Š ë£°ì…‹ êµ¬í˜„ í˜„í™©

### ì´ ë£° ìˆ˜: 19ê°œ

#### âœ… êµ¬í˜„ ì™„ë£Œ (11ê°œ)

**Compliance (C) - 3ê°œ**

- C-001: Sanction Direct Touch âœ…
- C-003: High-Value Single Transfer âœ…
- C-004: High-Value Repeated Transfer (24h) âœ…

**Exposure (E) - 2ê°œ**

- E-101: Mixer Direct Exposure âœ…
- E-102: Indirect Sanctions Exposure (PPR ê¸°ë°˜) âœ…

**Behavior (B) - 6ê°œ**

- B-101: Burst (10m) âœ…
- B-102: Rapid Sequence (1m) âœ…
- B-103: Inter-arrival Std High âœ…
- B-201: Layering Chain (3í™‰ ë°ì´í„° í•„ìš”) âœ…
- B-202: Cycle (3í™‰ ë°ì´í„° í•„ìš”) âœ…
- B-203: Fan-out (10m bucket) âœ…
- B-204: Fan-in (10m bucket) âœ…

#### ğŸš§ ë¶€ë¶„ êµ¬í˜„ (2ê°œ)

- **C-002**: High-Risk Jurisdiction VASP (ë°±ì—”ë“œ ë°ì´í„° í•„ìš”)
- **E-103**: Counterparty Quality Risk (ì»¤ìŠ¤í„°ë§ˆì´ì§• í•­ëª©, ë°±ì—”ë“œ ë°ì´í„° í•„ìš”)

#### âŒ ë¯¸êµ¬í˜„ (4ê°œ)

- **B-401**: First 7 Days Burst (ì£¼ì†Œ ìƒíƒœ ê´€ë¦¬ í•„ìš”)
- **B-402**: Reactivation (ì£¼ì†Œ ìƒíƒœ ê´€ë¦¬ í•„ìš”)
- **B-501**: High-Value Buckets (ë™ì  ì ìˆ˜ í• ë‹¹ í•„ìš”)
- **B-502**: Structuring Pattern (ë³µí•© ì§‘ê³„ í•„ìš”)

---

## ğŸ“‹ ì•ìœ¼ë¡œ í•´ì•¼ í•  ê²ƒ

### ìš°ì„ ìˆœìœ„ ë†’ìŒ

1. **ë°±ì—”ë“œ ì—°ë™**

   - ì£¼ì†Œì˜ ê±°ë˜ íˆìŠ¤í† ë¦¬ ê°€ì ¸ì˜¤ê¸° API ì—°ë™
   - 3í™‰ ê±°ë˜ ë°ì´í„° ê°€ì ¸ì˜¤ê¸° (ì‹¬ì¸µ ë¶„ì„ìš©)
   - ì²´ì¸ ì„ íƒ ê¸°ëŠ¥ ì¶”ê°€

2. **ì£¼ì†Œ ìƒíƒœ ê´€ë¦¬ ì‹œìŠ¤í…œ**

   - ì£¼ì†Œ ë©”íƒ€ë°ì´í„° ì €ì¥ì†Œ êµ¬ì¶• (DB ë˜ëŠ” ìºì‹œ)
   - ì£¼ì†Œ ìƒì„±ì¼, ë§ˆì§€ë§‰ ê±°ë˜ì¼, ì´ ê±°ë˜ ìˆ˜ ë“± ì¶”ì 
   - B-401, B-402 ë£° êµ¬í˜„

3. **ë™ì  ì ìˆ˜ í• ë‹¹**
   - ê¸ˆì•¡ì— ë”°ë¥¸ ë™ì  ì ìˆ˜ ê³„ì‚° ë¡œì§
   - B-501 ë£° êµ¬í˜„

### ìš°ì„ ìˆœìœ„ ì¤‘ê°„

4. **ë³µí•© ì§‘ê³„ ë¡œì§**

   - ê·¸ë£¹í™” ë° ê·¸ë£¹ë³„ ë¶„ì„
   - B-502 ë£° êµ¬í˜„

5. **ì„±ëŠ¥ ìµœì í™”**
   - ê·¸ë˜í”„ ë¶„ì„ ìµœì í™”
   - ìºì‹± ì „ëµ ìˆ˜ë¦½
   - ë³‘ë ¬ ì²˜ë¦¬

### ìš°ì„ ìˆœìœ„ ë‚®ìŒ

6. **AI í†µí•©**
   - ë£° ê°€ì¤‘ì¹˜ í•™ìŠµ
   - ì´ìƒ íŒ¨í„´ íƒì§€
   - ì»¨í…ìŠ¤íŠ¸ ê¸°ë°˜ ì ìˆ˜ ì¡°ì •

---

## ğŸ¤– AI í™œìš© ë°©ì•ˆ

### 1ë‹¨ê³„: ë£° ê°€ì¤‘ì¹˜ í•™ìŠµ (ìš°ì„ ìˆœìœ„: ë†’ìŒ)

**ëª©ì **: ê° ë£°ì˜ ê°€ì¤‘ì¹˜ë¥¼ í•™ìŠµí•˜ì—¬ ìµœì ì˜ ìŠ¤ì½”ì–´ ê³„ì‚°

**ë°©ë²•**:

- ê³¼ê±° ë°ì´í„°ë¡œ ë£° ì¡°í•©ê³¼ ì‹¤ì œ ë¦¬ìŠ¤í¬ì˜ ìƒê´€ê´€ê³„ í•™ìŠµ
- ì§€ë„ í•™ìŠµ (Supervised Learning)
- ë£° ì ìˆ˜ì™€ ì‹¤ì œ ìœ„í—˜ë„ì˜ ìƒê´€ê´€ê³„ ë¶„ì„

**í™œìš© ìœ„ì¹˜**: `core/aggregation/` ëª¨ë“ˆ

**ì˜ˆì‹œ**:

```python
# í˜„ì¬: ê³ ì • ê°€ì¤‘ì¹˜
risk_score = sum(rule.score for rule in fired_rules)

# AI ì ìš© í›„: í•™ìŠµëœ ê°€ì¤‘ì¹˜
risk_score = sum(learned_weights[rule.id] * rule.score for rule in fired_rules)
```

---

### 2ë‹¨ê³„: ë£° ì¡°í•© ìµœì í™”

**ëª©ì **: ì—¬ëŸ¬ ë£°ì´ ë™ì‹œì— ë°œë™ë  ë•Œ ìµœì ì˜ ì ìˆ˜ ê³„ì‚°

**ë°©ë²•**:

- ì•™ìƒë¸” í•™ìŠµ (Ensemble Learning)
- ë©”íƒ€ í•™ìŠµ (Meta Learning)
- ë£° ê°„ ìƒí˜¸ì‘ìš© ëª¨ë¸ë§

**í™œìš© ìœ„ì¹˜**: `core/scoring/engine.py`

**ì˜ˆì‹œ**:

```python
# í˜„ì¬: ë‹¨ìˆœ í•©ì‚°
risk_score = sum(rule.score for rule in fired_rules)

# AI ì ìš© í›„: ë£° ì¡°í•© ê³ ë ¤
risk_score = ensemble_model.predict(fired_rules)
```

---

### 3ë‹¨ê³„: ì´ìƒ íŒ¨í„´ íƒì§€

**ëª©ì **: ë£°ë¶ì— ì—†ëŠ” ìƒˆë¡œìš´ íŒ¨í„´ íƒì§€

**ë°©ë²•**:

- ë¹„ì§€ë„ í•™ìŠµ (Unsupervised Learning)
- í´ëŸ¬ìŠ¤í„°ë§ (Clustering)
- ì´ìƒ íƒì§€ (Anomaly Detection)
- ê·¸ë˜í”„ ì„ë² ë”© (Graph Embedding)

**í™œìš© ìœ„ì¹˜**: `core/aggregation/` ëª¨ë“ˆ

**ì˜ˆì‹œ**:

```python
# ìƒˆë¡œìš´ íŒ¨í„´ íƒì§€
anomaly_score = anomaly_detector.detect(transaction_pattern)
if anomaly_score > threshold:
    # ìƒˆë¡œìš´ íŒ¨í„´ìœ¼ë¡œ ë¶„ë¥˜
    risk_score += anomaly_score
```

---

### 4ë‹¨ê³„: ì»¨í…ìŠ¤íŠ¸ ê¸°ë°˜ ì ìˆ˜ ì¡°ì •

**ëª©ì **: ì£¼ì†Œì˜ ì»¨í…ìŠ¤íŠ¸(ë‚˜ì´, ê±°ë˜ íŒ¨í„´ ë“±)ë¥¼ ê³ ë ¤í•œ ì ìˆ˜ ì¡°ì •

**ë°©ë²•**:

- ì‹œê³„ì—´ ë¶„ì„ (Time Series Analysis)
- ê·¸ë˜í”„ ì„ë² ë”© (Graph Embedding)
- ì£¼ì†Œ ì„ë² ë”© (Address Embedding)

**í™œìš© ìœ„ì¹˜**: `core/scoring/address_analyzer.py`

**ì˜ˆì‹œ**:

```python
# ì£¼ì†Œ ì»¨í…ìŠ¤íŠ¸ ì„ë² ë”©
address_embedding = embedder.embed(address, transactions)
context_score = context_model.predict(address_embedding)

# ì»¨í…ìŠ¤íŠ¸ ê¸°ë°˜ ì ìˆ˜ ì¡°ì •
adjusted_score = base_score * context_score
```

---

## ğŸ“ íŒŒì¼ êµ¬ì¡° ì •ë¦¬

### í•µì‹¬ íŒŒì¼

```
api/
â”œâ”€â”€ app.py                          # Flask ì„œë²„
â””â”€â”€ routes/
    â”œâ”€â”€ address_analysis.py         # ì£¼ì†Œ ë¶„ì„ API (í†µí•©)
    â””â”€â”€ scoring.py                 # íŠ¸ëœì­ì…˜ ìŠ¤ì½”ì–´ë§ API

core/
â”œâ”€â”€ scoring/
â”‚   â”œâ”€â”€ engine.py                   # ë‹¨ì¼ íŠ¸ëœì­ì…˜ ìŠ¤ì½”ì–´ë§
â”‚   â””â”€â”€ address_analyzer.py        # ì£¼ì†Œ ê¸°ë°˜ ë¶„ì„
â”œâ”€â”€ rules/
â”‚   â”œâ”€â”€ evaluator.py               # ë£° í‰ê°€ê¸°
â”‚   â””â”€â”€ loader.py                  # ë£°ë¶ ë¡œë”
â”œâ”€â”€ aggregation/
â”‚   â”œâ”€â”€ window.py                  # ìœˆë„ìš° ê¸°ë°˜ ì§‘ê³„
â”‚   â”œâ”€â”€ bucket.py                  # ë²„í‚· ê¸°ë°˜ ì§‘ê³„
â”‚   â”œâ”€â”€ topology.py                # ê·¸ë˜í”„ êµ¬ì¡° ë¶„ì„
â”‚   â”œâ”€â”€ ppr_connector.py           # PPR ì—°ê²°ì„± ë¶„ì„
â”‚   â”œâ”€â”€ stats.py                   # í†µê³„ ê³„ì‚°
â”‚   â””â”€â”€ mpocryptml_patterns.py     # MPOCryptoML íŒ¨í„´ íƒì§€
â””â”€â”€ data/
    â””â”€â”€ lists.py                   # ë¦¬ìŠ¤íŠ¸ ê´€ë¦¬

rules/
â””â”€â”€ tracex_rules.yaml              # TRACE-X ë£°ë¶

data/
â””â”€â”€ lists/                          # ë¸”ë™ë¦¬ìŠ¤íŠ¸/í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸
    â”œâ”€â”€ sdn_addresses.json
    â”œâ”€â”€ cex_addresses.json
    â””â”€â”€ bridge_contracts.json
```

### ë¬¸ì„œ

```
docs/
â”œâ”€â”€ API_DOCUMENTATION.md            # API ëª…ì„¸ì„œ
â”œâ”€â”€ RULE_IMPLEMENTATION_STATUS.md   # ë£° êµ¬í˜„ í˜„í™©
â”œâ”€â”€ USER_SCENARIOS.md              # ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤
â”œâ”€â”€ PERFORMANCE_OPTIMIZATION.md    # ì„±ëŠ¥ ìµœì í™”
â”œâ”€â”€ THREE_HOP_IMPLEMENTATION.md    # 3í™‰ ë°ì´í„° ê¸°ë°˜ êµ¬í˜„
â”œâ”€â”€ AI_INTEGRATION_PLAN.md         # AI í†µí•© ê³„íš
â””â”€â”€ ...
```

---

## ğŸ”— API ì—”ë“œí¬ì¸íŠ¸

### í†µí•©ëœ ì—”ë“œí¬ì¸íŠ¸

**POST /api/analyze/address**

- `analysis_type: "basic"` â†’ ê¸°ë³¸ ìŠ¤ì½”ì–´ë§ (1-2ì´ˆ)
- `analysis_type: "advanced"` â†’ ì‹¬ì¸µ ë¶„ì„ (5-30ì´ˆ)

**POST /api/score/transaction**

- ë‹¨ì¼ íŠ¸ëœì­ì…˜ ìŠ¤ì½”ì–´ë§

**GET /health**

- ì„œë²„ ìƒíƒœ í™•ì¸

**GET /api-docs**

- Swagger API ë¬¸ì„œ

---

## ğŸ“š ì°¸ê³  ë¬¸ì„œ

- **`docs/RULE_IMPLEMENTATION_STATUS.md`** - ë£° êµ¬í˜„ ìƒì„¸ í˜„í™©
- **`docs/WHY_UNIMPLEMENTED_SIMPLE.md`** - ë¯¸êµ¬í˜„ ë£° ì´ìœ  (ì‰¬ìš´ ì„¤ëª…)
- **`docs/AI_INTEGRATION_PLAN.md`** - AI í†µí•© ê³„íš
- **`docs/USER_SCENARIOS.md`** - ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤
