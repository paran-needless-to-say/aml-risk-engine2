# 미구현 룰이 미구현인 이유 (쉬운 설명)

## 🎯 핵심 문제

현재 시스템은 **"지금 이 거래 하나만"** 보고 판단합니다.
하지만 미구현 룰들은 **"여러 거래를 연결해서 봐야"** 알 수 있는 패턴입니다.

---

## 📊 미구현 룰 6개

### 1️⃣ B-201: Layering Chain (레이어링 체인)

**무엇을 찾는가?**
- 자금이 여러 주소를 거쳐 이동하는 패턴
- 예: A → B → C → D (3단계 이상)

**왜 미구현인가?**
- 현재: 지금 거래 하나만 봄 (A → B만 봄)
- 필요: 여러 거래를 연결해서 봐야 함 (A → B → C → D 전체를 봐야 함)

**비유**: 
- 현재는 "지금 이 사람이 누구에게 돈을 보냈나?"만 봄
- 필요한 건 "이 돈이 어디를 거쳐서 왔나?" 전체 경로를 봐야 함

---

### 2️⃣ B-202: Cycle (순환 거래)

**무엇을 찾는가?**
- 돈이 돌고 도는 패턴
- 예: A → B → A (돌고 돌아서 다시 A로)

**왜 미구현인가?**
- 현재: 지금 거래 하나만 봄
- 필요: 여러 거래를 연결해서 순환 구조를 찾아야 함

**비유**:
- 현재는 "지금 이 거래만" 봄
- 필요한 건 "이 돈이 돌고 돌아서 다시 돌아왔나?" 전체를 봐야 함

---

### 3️⃣ B-401: First 7 Days Burst (첫 7일 급증)

**무엇을 찾는가?**
- 주소가 만들어진 지 7일 이내에 갑자기 많은 거래를 하는 패턴

**왜 미구현인가?**
- 현재: 주소가 "언제 만들어졌는지" 모름
- 필요: 주소 생성일을 기억해야 함

**비유**:
- 현재는 "이 주소가 언제 생겼는지" 모름
- 필요한 건 "이 주소가 7일 전에 생겼고, 그 사이에 많은 거래를 했나?"를 알아야 함

---

### 4️⃣ B-402: Reactivation (재활성화)

**무엇을 찾는가?**
- 오래 비활성 상태였던 주소가 갑자기 다시 활동하는 패턴

**왜 미구현인가?**
- 현재: 주소가 "마지막으로 언제 거래했는지" 모름
- 필요: 마지막 거래일을 기억해야 함

**비유**:
- 현재는 "이 주소가 마지막으로 언제 거래했는지" 모름
- 필요한 건 "1년 전에 만들어진 주소가 6개월 동안 조용하다가 갑자기 다시 움직이기 시작했나?"를 알아야 함

---

### 5️⃣ B-501: High-Value Buckets (고액 버킷)

**무엇을 찾는가?**
- 거래 금액에 따라 점수를 다르게 주는 룰
- 예: 1만 달러면 5점, 10만 달러면 10점

**왜 미구현인가?**
- 현재: 모든 룰이 고정 점수 (예: 20점)
- 필요: 거래 금액에 따라 점수가 달라져야 함

**비유**:
- 현재는 "이 룰이 발동하면 무조건 20점"
- 필요한 건 "거래 금액이 1만 달러면 5점, 10만 달러면 10점"처럼 금액에 따라 점수가 달라져야 함

---

### 6️⃣ B-502: Structuring Pattern (구조화 패턴)

**무엇을 찾는가?**
- 반올림된 금액으로 여러 번 거래하는 패턴
- 예: 10,000달러, 10,000달러, 10,000달러... (같은 금액 반복)

**왜 미구현인가?**
- 현재: 거래를 그룹으로 묶어서 분석하는 기능이 약함
- 필요: 
  - 거래 금액을 반올림해서 그룹화
  - 각 그룹에서 "5번 이상 거래했나?" 체크
  - "출금만" 필터링

**비유**:
- 현재는 "모든 거래를 합쳐서" 봄
- 필요한 건 "10,000달러로 그룹화해서, 그 그룹에서 5번 이상 거래했나?"를 봐야 함

---

## 📋 요약표

| 룰 | 찾는 것 | 현재 문제 | 필요한 것 |
|---|--------|---------|----------|
| **B-201** | 여러 주소 거쳐 이동 | 거래 하나만 봄 | 여러 거래 연결해서 봐야 함 |
| **B-202** | 돈이 돌고 도는 패턴 | 거래 하나만 봄 | 순환 구조 찾아야 함 |
| **B-401** | 첫 7일 급증 | 주소 생성일 모름 | 주소 생성일 기억해야 함 |
| **B-402** | 재활성화 | 마지막 거래일 모름 | 마지막 거래일 기억해야 함 |
| **B-501** | 금액별 점수 | 고정 점수만 | 금액에 따라 점수 달라야 함 |
| **B-502** | 반올림 값 반복 | 그룹화 기능 약함 | 값 그룹화 + 그룹별 분석 |

---

## 💡 핵심 정리

### 문제 1: "거래 하나만" 봄 → "여러 거래 연결" 필요
- **B-201, B-202**: 그래프로 여러 거래를 연결해서 봐야 함

### 문제 2: "주소 정보 없음" → "주소 메타데이터" 필요
- **B-401, B-402**: 주소가 언제 만들어졌는지, 마지막 거래가 언제인지 기억해야 함

### 문제 3: "고정 점수만" → "동적 점수/복합 분석" 필요
- **B-501**: 금액에 따라 점수가 달라져야 함
- **B-502**: 거래를 그룹으로 묶어서 분석해야 함

---

## 🛠️ 해결 방법 (간단히)

1. **B-201, B-202**: 그래프 라이브러리(NetworkX)로 여러 거래 연결
2. **B-401, B-402**: 주소 정보를 저장하는 저장소 만들기
3. **B-501**: 거래 금액 보고 점수 결정하는 로직 추가
4. **B-502**: 거래를 그룹으로 묶는 로직 추가

