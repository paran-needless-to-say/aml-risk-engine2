# 미구현 룰 설명 및 구현 계획

## 🔍 미구현 룰이 있는 이유

현재 프로젝트는 **단일 트랜잭션 기반 룰**과 **시간 윈도우 기반 룰**만 구현되어 있습니다.
다음 룰들은 더 복잡한 데이터 구조나 분석이 필요합니다:

### 1. 토폴로지 기반 룰 (B-201, B-202)

**왜 미구현인가?**

- **그래프 구조 분석 필요**: 여러 트랜잭션 간의 관계를 그래프로 모델링해야 함
- **홉(Hop) 분석**: A → B → C → D 같은 체인 구조 탐지
- **순환(Cycle) 탐지**: A → B → A 같은 순환 구조 탐지
- **현재 구조**: 단일 트랜잭션만 평가, 그래프 구조 없음

**필요한 것:**

- 트랜잭션 그래프 구축 (NetworkX 등)
- 홉별 경로 탐색 알고리즘
- 순환 탐지 알고리즘

**MPOCryptoML 활용 가능성:**

- 그래프 분석 기능이 있다면 활용 가능
- 토폴로지 패턴 학습 모델 활용 가능

### 2. 버킷 기반 룰 (B-203, B-204, B-501)

**왜 미구현인가?**

- **시간 버킷 그룹화**: 10분 단위로 트랜잭션을 그룹화해야 함
- **버킷별 집계**: 각 버킷에서 distinct count, sum 등 계산
- **현재 구조**: 윈도우 기반은 있지만 버킷 기반은 없음

**필요한 것:**

- 시간 버킷 생성 로직
- 버킷별 그룹화 및 집계
- 버킷 간 비교 분석

**구현 난이도:** ⭐⭐ (중간)

- 윈도우 기반 로직을 확장하면 가능

### 3. 상태 기반 룰 (B-401, B-402, B-403A, B-403B)

**왜 미구현인가?**

- **주소 상태 정보 필요**: 주소의 생성일, 마지막 거래일, 총 거래 수 등
- **상태 관리 시스템**: 주소별 메타데이터 저장 및 업데이트
- **현재 구조**: 트랜잭션만 평가, 주소 상태 정보 없음

**필요한 것:**

- 주소 메타데이터 저장소 (DB 또는 캐시)
- 상태 업데이트 로직
- 시간 기반 계산 (나이, 비활성 기간 등)

**구현 난이도:** ⭐⭐⭐ (높음)

- 상태 관리 시스템 구축 필요

### 4. 통계 기반 룰 (B-103)

**왜 미구현인가?**

- **통계 계산**: 표준편차, 평균 등 통계량 계산
- **최소 데이터 요구사항**: prerequisites (최소 10개 거래)
- **현재 구조**: 단순 조건만 평가

**필요한 것:**

- 통계 계산 함수
- prerequisites 체크 로직

**구현 난이도:** ⭐ (낮음)

- 통계 라이브러리 활용 가능

### 5. 구조화 패턴 룰 (B-502)

**왜 미구현인가?**

- **값 그룹화**: 반올림된 값으로 그룹화
- **그룹별 집계**: 각 그룹에서 count, sum 계산
- **현재 구조**: 단순 집계만 지원

**필요한 것:**

- 값 그룹화 로직 (반올림 등)
- 그룹별 집계 로직

**구현 난이도:** ⭐⭐ (중간)

---

## 💡 MPOCryptoML 활용 방안

MPOCryptoML이 무엇인지 정확히 알려주시면 더 구체적인 계획을 세울 수 있습니다.

### 가능한 활용 시나리오:

#### 1. 그래프 분석 모델이 있다면

- **B-201, B-202 (토폴로지 룰)**: 그래프 모델로 레이어링, 순환 패턴 탐지
- **홉 분석**: 그래프 탐색 알고리즘 활용

#### 2. 패턴 학습 모델이 있다면

- **B-103 (통계 패턴)**: 이상 패턴 학습
- **B-502 (구조화 패턴)**: 반올림 값 패턴 학습

#### 3. 주소 분류 모델이 있다면

- **상태 기반 룰**: 주소 라이프사이클 패턴 분류
- **리스크 예측**: 주소별 리스크 예측 점수 활용

#### 4. 시계열 분석 모델이 있다면

- **버킷 기반 룰**: 시간대별 패턴 분석
- **Burst 패턴**: 시계열 이상 탐지

---

## 🛠️ 구현 우선순위

### 높은 우선순위 (빠르게 구현 가능)

1. **B-103: Inter-arrival Std High** ⭐

   - 통계 계산만 추가하면 됨
   - 구현 시간: 1-2시간

2. **B-203, B-204: Fan-out/Fan-in** ⭐⭐

   - 버킷 로직 추가
   - 구현 시간: 반나절

3. **B-502: Structuring Pattern** ⭐⭐
   - 그룹화 로직 추가
   - 구현 시간: 반나절

### 중간 우선순위 (구조 개선 필요)

4. **B-401, B-402, B-403A, B-403B: Lifecycle 룰** ⭐⭐⭐

   - 상태 관리 시스템 구축
   - 구현 시간: 1-2일

5. **B-501: High-Value Buckets** ⭐⭐
   - 버킷 기반 동적 점수
   - 구현 시간: 반나절

### 낮은 우선순위 (복잡한 구조 필요)

6. **B-201, B-202: Topology 룰** ⭐⭐⭐⭐
   - 그래프 분석 시스템 구축
   - 구현 시간: 3-5일

---

## 📋 MPOCryptoML 정보 필요

다음 정보를 알려주시면 구체적인 통합 계획을 세울 수 있습니다:

1. **MPOCryptoML이 무엇인가요?**

   - 프로젝트명? 라이브러리? 데이터셋?
   - 어떤 기능을 제공하나요?

2. **어떤 분석 기능이 있나요?**

   - 그래프 분석?
   - 패턴 학습?
   - 주소 분류?
   - 시계열 분석?

3. **어떻게 접근할 수 있나요?**

   - 코드베이스에 포함되어 있나요?
   - 별도 라이브러리인가요?
   - API인가요?

4. **어떤 데이터 형식을 사용하나요?**
   - 트랜잭션 데이터?
   - 그래프 데이터?
   - 특성 벡터?

이 정보를 주시면 MPOCryptoML을 활용한 구현 계획을 구체적으로 제시하겠습니다!
